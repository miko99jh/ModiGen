
Generate a Modelica function model that calculates the distances between the centers of faces in a layered structure. The model should be named `layer_fcf_distances`. The function takes an input array `s` of type `Real`, representing the thicknesses of the layers, and outputs an array `d` of type `Real` representing the distances between face centers, with `size(s, 1) + 1` elements. The function also has a protected variable n, it is an integer `n` that stores the size of the input array `s`. The function should first assign the first and last elements of `d` as half of the first and last elements of `s`, respectively. Then, for each subsequent element, calculate the average of the current and previous layer thicknesses. The model does not inherit from any other models.

//modelica
```function layer_fcf_distances
"Calculate the distances between the centers of faces in a layered structure"
input Real s[size(s, 1) + 1];
output Real d[size(s, 1) + 1];
protected
  Integer n = size(s, 1);
initial
d[1] = 0.5*s[1];
d[n + 1] = 0.5*s[n + 1];
for i in 2:n
d[i] = 0.5*(s[i] + s[i - 1]);
end for
end layer_fcf_distances;
```

//modelica

The function should be tested by generating a test model. The test model should be named `layer_fcf_distances_test` and it should have a protected variable `s` of type `Real` and an output variable `d` of type `Real`. The test model should first assign the protected variable `s` as a 3-element array of type `Real` with the values 1, 2, and 3. Then, it should assign the output variable `d` as the result of calling the function `layer_fcf_distances` with the input array `s`. The test model should also have a protected variable `expected` of type `Real` and an output variable `passed` of type `Boolean`. The protected variable `expected` should be assigned as a 4-element array of type `Real` with the values 0.5, 1, 2, and 2.5. The output variable `passed` should be assigned as the result of comparing the output variable `d` with the protected variable `expected`.

//modelica
```function layer_fcf_distances_test
"Test the layer_fcf_distances function"
protected
  Real s